<section class="past-training">
  <mat-card appearance="outlined">
    <mat-card-content>
      <div class="past-training__lists">
        <section class="past-training__section">
          <h3>Aerobic Exercises</h3>
          <mat-form-field class="past-training__filter">
            <mat-label>Filter Aerobic</mat-label>
            <input matInput placeholder="Search by name" [value]="aerobicFilter()"
              (input)="updateAerobicFilter($any($event.target).value)" />
            @if (aerobicFilter()) {
            <button mat-icon-button matSuffix (click)="clearAerobicFilter()" type="button" class="clear-button">
              <mat-icon class="clear-icon">close</mat-icon>
            </button>
            }
          </mat-form-field>
          <div class="past-training__table-wrapper">
            <table class="past-training__table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Name</th>
                  <th>Duration</th>
                  <th>Calories</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                @if (pagedAerobicExercises().length === 0) {
                <tr>
                  <td colspan="5" class="past-training__empty">No aerobic exercises found.</td>
                </tr>
                } @else {
                @for (ex of pagedAerobicExercises(); track ex.id) {
                <tr>
                  <td>{{ ex.date | date:'mediumDate' }}</td>
                  <td>{{ ex.Name }}</td>
                  <td>{{ formatDuration(ex.Duration) }}</td>
                  <td>{{ ex.calories | number:'1.2-2' }}</td>
                  <td>
                    <button mat-icon-button (click)="shareExercise(ex)" aria-label="Share exercise">
                      <mat-icon>share</mat-icon>
                    </button>
                  </td>
                </tr>
                }
                }
              </tbody>
            </table>
          </div>
          <mat-paginator [length]="filteredAerobicExercises().length" [pageIndex]="aerobicPageIndex()"
            [pageSize]="aerobicPageSize()" [pageSizeOptions]="pageSizeOptions"
            (page)="onAerobicPageChange($event)"></mat-paginator>
        </section>

        <section class="past-training__section">
          <h3>Resistance Exercises</h3>
          <mat-form-field class="past-training__filter">
            <mat-label>Filter Resistance</mat-label>
            <input matInput placeholder="Search by name" [value]="resistanceFilter()"
              (input)="updateResistanceFilter($any($event.target).value)" />
            @if (resistanceFilter()) {
            <button mat-icon-button matSuffix (click)="clearResistanceFilter()" type="button" class="clear-button">
              <mat-icon class="clear-icon">close</mat-icon>
            </button>
            }
          </mat-form-field>
          <div class="past-training__table-wrapper">
            <table class="past-training__table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Name</th>
                  <th>Weight</th>
                  <th>Reps</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                @if (pagedResistanceExercises().length === 0) {
                <tr>
                  <td colspan="5" class="past-training__empty">No resistance exercises found.</td>
                </tr>
                } @else {
                @for (ex of pagedResistanceExercises(); track ex.id) {
                <tr>
                  <td>{{ ex.date | date:'mediumDate' }}</td>
                  <td>{{ ex.Name }}</td>
                  <td>{{ ex.weight }}</td>
                  <td>{{ ex.reps }}</td>
                  <td>
                    <button mat-icon-button (click)="shareExercise(ex)" aria-label="Share exercise">
                      <mat-icon>share</mat-icon>
                    </button>
                  </td>
                </tr>
                }
                }
              </tbody>
            </table>
          </div>
          <mat-paginator [length]="filteredResistanceExercises().length" [pageIndex]="resistancePageIndex()"
            [pageSize]="resistancePageSize()" [pageSizeOptions]="pageSizeOptions"
            (page)="onResistancePageChange($event)"></mat-paginator>
        </section>
      </div>
    </mat-card-content>
  </mat-card>
</section>